Solution:
let foo y =
  let w = y + 3 in
  fun y' -> (y + 3) + 2 + y' * w

Explanation:
We replace x (which is defined as y+3) in both “let w = x” and “x + 2”. To avoid capturing the outer y inside the lambda (whose parameter shadows y), we rename its parameter to y'.