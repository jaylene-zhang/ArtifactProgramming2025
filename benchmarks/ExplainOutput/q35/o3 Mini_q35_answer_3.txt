Solution: 71

Explanation: Initially, x is bound to 3 and r to ref 1, so y becomes 3*1 = 3. A new r (ref 5) is created in f, capturing x = 3, y = 3, and this new r. Later, x is rebound to 2*(!r)*3 = 6 (with outer r still ref 1), then outer r is updated to 10. The argument is computed as 6 * 10 = 60. Calling f with 60 yields 60 + 3 + 3 + 5 (since !r inside f is 5), which sums to 71.