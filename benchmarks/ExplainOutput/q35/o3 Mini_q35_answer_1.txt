Solution: 71

Explanation: Initially, x is 3 and r holds 1. In f, y is computed as 3*1 = 3 and a new r (ref 5) is created, so f captures x = 3, y = 3, and this inner r. Later, a new x becomes 2 * !r * 3 = 6 (using the outer r which is still ref 1), then the outer r is updated to 10. f is called with 6 * 10 = 60. Inside f, the result is 60 + 3 + 3 + 5 = 71.